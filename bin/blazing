#!/usr/bin/env ruby -w

require 'bundler'
Bundler.setup

require 'optparse'
require 'methadone'
require 'blazing/config'
require 'blazing/runner'

include Methadone::Main

main do |command|
  config = Blazing::Config.parse(options[:file])
  runner = Blazing::Runner.new(config)
  runner.exec(command)
end

arg :command
on("-f configuration", "--file configuration", "config file location (defaults to config/blazing.rb)")

go!
